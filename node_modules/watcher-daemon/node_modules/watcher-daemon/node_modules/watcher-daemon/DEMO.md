# Demo Runbook

This demo shows a full rule lifecycle: create rule, trigger file change, observe match, and fetch report.

Notes:
- Rule evaluation requires Ollama to be running. If Ollama is not available, the daemon keeps watching but pauses rule evaluation.
- The default API endpoint is `http://localhost:3000`.

## Quick Demo (Windows PowerShell)

```powershell
cd watcher-daemon
.\scripts\demo.ps1
```

## Quick Demo (macOS/Linux)

```bash
cd watcher-daemon
bash scripts/demo.sh
```

## Manual Demo Steps

1. Install dependencies:

```bash
npm install
```

2. Start the daemon:

```bash
npm start
```

3. Add a rule (new terminal):

```bash
curl -X POST http://localhost:3000/rules -H "Content-Type: application/json" -d "{\"name\":\"TS Change Demo\",\"description\":\"Alert on .ts changes\",\"condition\":\"Alert when TypeScript files change\"}"
```

4. Trigger a file event:

```bash
echo "// demo change" > watched/demo.ts
```

5. Check report:

```bash
curl http://localhost:3000/report
```

You should see a notification and a log entry for the rule match if Ollama is running.
